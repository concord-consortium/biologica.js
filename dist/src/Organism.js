// Generated by CoffeeScript 1.3.3
(function() {

  BioLogica.Organism = (function() {

    function Organism(species, alleles, sex) {
      var _ref, _ref1;
      this.species = species;
      this.alleles = alleles;
      this.sex = sex;
      this.genetics = new BioLogica.Genetics(this.species, this.alleles, this.sex);
      if ((_ref = this.sex) == null) {
        this.sex = ((_ref1 = this.genetics.genotype.chromosomes.XY) != null ? _ref1.y : void 0) != null ? BioLogica.MALE : BioLogica.FEMALE;
      }
      this.phenotype = new BioLogica.Phenotype(this.genetics);
    }

    Organism.prototype.getGenotype = function() {
      return this.genetics.genotype;
    };

    /*
        For a given trait (a species-level property), returns this organism's
        characteristic. E.g. getCharacteristic("color") may return "green",
        getCharacteristic("horns") may return "no horns".
    */


    Organism.prototype.getCharacteristic = function(trait) {
      return this.phenotype.characteristics[trait];
    };

    Organism.prototype.getImageName = function() {
      return this.species.getImageName(this);
    };

    Organism.prototype.toString = function() {
      var alleles, sex;
      sex = this.sex === BioLogica.FEMALE ? "female" : "male";
      alleles = this.genetics.genotype.allAlleles;
      return "Organism: {sex: " + sex + ", authored alleles: " + this.alleles + ", alleles: " + alleles;
    };

    return Organism;

  })();

}).call(this);
