// Generated by CoffeeScript 1.3.3
(function() {
  var _ref,
    __hasProp = {}.hasOwnProperty;

  if ((_ref = window.BioLogica) == null) {
    window.BioLogica = {};
  }

  BioLogica.breed = function(mother, father, crossover) {
    var chromatidA, chromatidB, chromoName, chromosome, gamete1, gamete2, genotypeHash, i;
    gamete1 = mother.createGametes(1, crossover);
    gamete2 = father.createGametes(1, crossover);
    for (i in gamete2) {
      chromosome = gamete2[i];
      if (chromosome.side === "a") {
        chromosome.side = "b";
      }
    }
    if (gamete2["XY"].side === "x") {
      gamete1["XY"].side = "x1";
      gamete2["XY"].side = "x2";
    }
    genotypeHash = {};
    for (chromoName in gamete1) {
      if (!__hasProp.call(gamete1, chromoName)) continue;
      chromatidA = gamete1[chromoName];
      chromatidB = gamete2[chromoName];
      genotypeHash[chromoName] = {};
      genotypeHash[chromoName][chromatidA.side] = chromatidA.alleles;
      genotypeHash[chromoName][chromatidB.side] = chromatidB.alleles;
    }
    return new BioLogica.Organism(mother.species, genotypeHash);
  };

}).call(this);
